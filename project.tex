% These are the instructions for authors for IJCAI-17.
% They are the same as the ones for IJCAI-11 with superficical wording
%   changes only.

\documentclass{article}
% The file ijcai17.sty is the style file for IJCAI-17 (same as ijcai07.sty).
\usepackage{ijcai17}

% Use the postscript times font!
\usepackage{times}
\def\one{\mbox{1\hspace{-4.25pt}\fontsize{12}{14.4}\selectfont\textrm{1}}} % 11pt    

\usepackage{amsmath}
\usepackage{hyperref}
\DeclareMathOperator*{\argmax}{arg\,max}
% the following package is optional:
%\usepackage{latexsym}

% Following comment is from ijcai97-submit.tex:
% The preparation of these files was supported by Schlumberger Palo Alto
% Research, AT\&T Bell Laboratories, and Morgan Kaufmann Publishers.
% Shirley Jowell, of Morgan Kaufmann Publishers, and Peter F.
% Patel-Schneider, of AT\&T Bell Laboratories collaborated on their
% preparation.

% These instructions can be modified and used in other conferences as long
% as credit to the authors and supporting agencies is retained, this notice
% is not changed, and further modification or reuse is not restricted.
% Neither Shirley Jowell nor Peter F. Patel-Schneider can be listed as
% contacts for providing assistance without their prior permission.

% To use for other conferences, change references to files and the
% conference appropriate and use other authors, contacts, publishers, and
% organizations.
% Also change the deadline and address for returning papers and the length and
% page charge instructions.
% Put where the files are available in the appropriate places.

\title{Collective Recommendations}
\author{
    Haukur J{\'o}nsson \\    \texttt{haukurpalljonsson@gmail.com}\\
    \and
    Silvan Hungerb{\"u}hler \\   \texttt{silvan.hungerbuehler@bluewin.ch}\\
    \and
    Grzegorz Lisowski \\  \texttt{grzegorz.adam.lisowski@gmail.com}\\
    \and
    Max Rapp \\  \texttt{maxgrapp@gmail.com}
}

\begin{document}

\maketitle

\begin{abstract}
This is a placeholder for the glorious abstract yet to come.
\end{abstract}

\section{Introduction}\label{introduction}
Media are in crisis. Between highly personalized social media - as Facebook or Twitter - that drive political 
fragmentation, partizanship and the absence of a common factual base in society on the one hand, 
and waning interest in the traditional, entirely unpersonalized newspaper on the other, there is little space to maneuver for news providers. 
 How to balance the publics demand for news that is relevant to collective interests of both large and small groups in society and, at once, 
 reflects individual interests.
 
The present paper takes a step towards solving this problem by designing and testing a number of recommendation mechanism for news articles. 
 Based on the tastes consumers have for particular news items, the mechanism constructs a collection of essential articles for the entire group. 
 All that is needed for the mechanism to work is an ordering of the news items from first to last for each individual. 
 The way in which this preference ordering is elicited from the individual need not be of concern here; 
 depending on the concrete application, the data can be thought of s explicitly provided by the consumers or gathered by data mining techniques.
 
 Naturally, there are certain properties one would expect such a collection of essential articles to have. 
 The total length of recommended articles for a newspapers title page, for example, should not exceed its character limit. 
 Likewise, there are relations between the essential articles and the rankings by the individuals one would like to see respected by a recommendation mechanism. 
 By way of example, if all consumers detest a certain news item, 
 then it should certainly not be featured in the essential collection instead of another item much liked by everybody.
 
This paper aims at better understanding of collective recommendation mechanisms in media settings by
formally studying the interaction of mechanisms and properties of what they recommend. 
We employ formal tools provided by \emph{Social Choice Theory} to to analyze benefits and drawbacks of various possible ways to determine a set of essential news items 
- e.g. newspaper articles - for a group, given each member's individual preferences over the topics - eg. politics, sport, business.
We proceed by proving a small number of theorems and running simulations to estimate empirical relationships where proofs are unobtainable.  

The paper is structured as follows: \hyperlink{framework}{Section 2} we provide the formal definition of the recommendation problem as we want to study it. 
In \hyperlink{axioms}{Section 3} we formally present the desirable properties a collection of recommended articles ought to have. 
In \hyperlink{rules}{Section  4} we propose three rules for the task of turning individual preferences into recommendations. 
\hyperlink{test}{Section 5} contains the presentation and discussion of our simulation results as well as the theorems, while
\hyperlink{conclusion}{Section 6} concludes.

%This is how you {\it do italics}

%And this is how you {\em emphasize}
%Reference to Section~\ref{intro}

%{\tt code text}

%\begin{quote}
%And a quote
%\end{quote}

%Footnote\footnote{blurg}

%A bold {\bf letter}
\section{Formal Framework}\hypertarget{framework}
We have a set of {\emph news items} $A=\{a_1,...,a_m\}$, 
each having a specific {\emph cost}
 $C: A \rightarrow {\mathbf R}$,  %this should really b \mathbf but it wont compile
a set of {\emph recommended items} $W\subseteq A$, 
a set of {\emph consumers} $N=\{n_1,...,n_n\}$, 
a {\emph profile of preferences} over the set of items $\mathbf{R}\in \mathcal{L}^n$ 
and a {\emph budget} $B\in \mathbf{R}_{\geq 0}$. %should be \mathbb

For some recommendation rules we assume a {\emph value function} $V$ 
which specifies how much a consumer values an option in her ballot amongst the recommended items, given her preferences.
 It takes as an input the consumer, the profile and an element of $A$,
   $V: \mathcal{L}^n \times N \times  A \rightarrow \mathbf{R}$. %should be \mathbb
 
$V$ would be akin to a Borda scoring rule, for example, in the concrete case
 where $V$ outputs the value $m-1$ for all consumers' candidates in the top position, $m-2$ for the candidates in the second position and so forth.

Concerning {\emph social value}, then, there are two fundamental positions one could take. On the one hand, one a {\emph utilitarian} view we could measure social welfare as the sum of each all consumers' individual value. On the other, one could also adopt some {\emph egalitarian} point of view which takes the differences between consumers' values into account.


\section{Desirables \& Dimensions of Performance}\hypertarget{axioms}
The following are a bunch of things we would like a recommendation mechanism to do.
We will describe these desiderata formally and describe their relation and relevance to our goal stated in the introduction.
\subsection{Desirables}
\subsubsection{Regret Minimization}

Let $\mathcal {W_B}$ be the set of all budget-compatible elements of $\mathcal{P}(A)$. Regret is minimized (or utility is maximized) if:

\[
W=\argmax_{W'\in \mathcal{W_B}}(u(W')) 
\]


\subsubsection{$\theta$-Minority Consistency}

Let a : b denote the majority contest between alternatives $a$ and $b$ and $\#_a(a:b)\in [0,1]$ the share of the vote that $a$ wins against $b$ in that contest. A recommendation set is $\theta$-minority consistent if \[a\in W\text{ whenever } \#_a(a:b)\geq \theta \text{ for all } b\in A\setminus \{b\} \]

\subsubsection{$\delta$-Equality}

Define the Gini-coefficient of a recommendation set as follows: 

\[G(W)=\frac{\displaystyle{\sum_{i=1}^n \sum_{j=1}^n \left| u_i - u_j \right|}}{\displaystyle{2n\sum_{i=1}^n u_i}}\]

For $\delta\in [0,1]$, a recommendation set is $\delta$-egalitarian if $G(W)\leq \delta$. 

\subsubsection{Cost Distribution}

There are two polar extremes here:
On one end one could conceive a rule that picks chunky, expensive items (long, in-depth articles);
 on the other end rules that pick snacky, cheap items (Vice).
 In principle, any distribution over article prices is conceivable.
 \subsubsection{A bunch of more rules we yet have to get from the article.} 


\section{Recommendation Rules}\hypertarget{rules}
%Referencing ~\shortcite{Elkind2015} in text. Speaking about work ~\cite{Elkind2015}.
Here come a bunch of voting rules that we think will perform well with respect to above desiderata.
%\subsection{Haukur's work}

%One idea on scoring vectors to, perhaps, capture more realistic preferences.

%Three voting rules.

%\subsection{Capturing interest groups}

%Instead of considering the borda scoring vector when maximizing utility we might want to use a vector which gives the
%first candidate marginally more points than the second candidate and so on until we reach the middle candidate then the margin
% starts to grow again until it reaches what it was in the beginning. This allows voters to select a few items which they
% "really like" and a few items which they "really hate". Think of $-x^3$.

\subsection{K-plurality rule}

The {\em k-plurality rule} with $k<|A|$ is a {\em positional scoring rule} with the same scoring vector as the normal
{\em plurality rule}, $(1,0, \dots, 0)$, but instead of electing the alternative(s) with the highest score it elects the
alternative(s) with the highest score, if the number of winners is strictly less than $k$ then the alternative(s) with
the second highest score is elected. This is done until $|W| \geq k$. If $|W| > k$ then a tie-breaker should be applied
on the last iteration.


Computationally feasible.\subsection{Schulze rule}

Has many nice properties and is closely related to the $20\%$ minimal requirement.

Computationally feasible.


\subsection{Extended $\Theta$-Smith}

The $\Theta$-Smith set is the smallest non-empty set of candidates s.t. each member of the set defeats every other member outside
 the set in $\Theta \%$ of cases.

 The $\Theta$-Smith set is a Condorcet extension.

A suggestion of an algorithm which selects a "good" $\Theta$-Smith set. Compute the Smith set for $\Theta=50$
(the normal Smith set), check if it satisfies the cost restricitons. Second, check the upper-bound by finding the Smith
set of $\Theta=100$, if it satisfies the cost restriction, select it. Depending on the case the cost restriction was not
satsfied we need to iterate over the interval in which the cost restriction break, start iterating from $\Theta=50$ and
 increase/decrease $\Theta$ by $(100-50)/2=25$ or $(50-0)/2=25$ until a set is found which satisfies the cost
 restrictions (when found, there might be multiple.).

Computationally feasible.

\subsection{$\theta$-rule}

Instead of a Condorcet Committee, we could elect the \emph {set of $\theta$-winners} $\Theta$, that is the set
of all alternatives that win at least $\theta \% $ in all majority contests. Given the budget constraint, we
choose the smallest $\theta$ that is still compatible with the budget.

We define $\Theta$ as follows: let $a:b$ denote the majority contest between a and b and $\#_a(a:b)\in [0,1]$ the
share of the vote that a wins against b in that contest. Then $\Theta=\{a\in A: \text { for all } b\in A, \#_a(a:b)\geq \theta\}$. Then W=$\Theta$ subject to the following optimization problem:

\[\min \theta \text{ subject to } \sum_{a_i\in W}c(a_i)\leq B\]

\subsection{Utility Optimization}
We could also cast the problem of coming up with the best recommendation, 
given the items' costs as well as the budget, as a maximization problem. 
What we try to maximize is the sum of all the consumers' values by choosing $W$, 
where a consumer's value of seeing some item in $W$ is represented by a vector $\mathbf{s}$. 
For each consumer we only count the value from the news items that are actually in the recommended set:\\
\[
\max_W \sum_{j=1}^n \sum_{i=1}^m \one [a_i\in W] V(\mathbf{R}, n_j, a_i)
\]

Of course, Equation 1 is trivially solved by $W=A$. 
But the interest in solving it comes from adding the budget constraint.


This problem, however, is the well-studied {\em 0-1 Knapsack} problem. 
Given a set of items, each with a weight and a value, 
what is the most valuable knapsack that you can put together without exceeding its maximal load. 
In our case the weight corresponds to an article's cost, 
the value to the sum of all consumers' value if the item is included in $W$, 
and the maximal load corresponds to our budget $B$. 

Although the optimization problem is NP-hard, there exists pseudo-polynomial algorithms using dynamic programming 
as well as polynomial-time approximation schemes. 
\section{Simulations}%\hypertarget{test}
\subsection{Method}
\subsection{Results}
\subsection{Discussion}
\subsection{Proofs}
%\section{Conclusion}\hypertarget{conclusion}


%% The file named.bst is a bibliography style file for BibTeX 0.99c
%\bibliographystyle{named}
%\bibliography{references}
\end{document}

